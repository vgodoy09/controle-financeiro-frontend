{"remainingRequest":"/home/victor.godoy/projeto-front-end-default/controle-financeiro-frontend/node_modules/thread-loader/dist/cjs.js!/home/victor.godoy/projeto-front-end-default/controle-financeiro-frontend/node_modules/babel-loader/lib/index.js!/home/victor.godoy/projeto-front-end-default/controle-financeiro-frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/victor.godoy/projeto-front-end-default/controle-financeiro-frontend/src/_helpers/router.js","dependencies":[{"path":"/home/victor.godoy/projeto-front-end-default/controle-financeiro-frontend/src/_helpers/router.js","mtime":1544005132457},{"path":"/home/victor.godoy/projeto-front-end-default/controle-financeiro-frontend/.babelrc","mtime":1544005331407},{"path":"/home/victor.godoy/projeto-front-end-default/controle-financeiro-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1543927896071},{"path":"/home/victor.godoy/projeto-front-end-default/controle-financeiro-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1543927899826},{"path":"/home/victor.godoy/projeto-front-end-default/controle-financeiro-frontend/node_modules/babel-loader/lib/index.js","mtime":1530808242000},{"path":"/home/victor.godoy/projeto-front-end-default/controle-financeiro-frontend/node_modules/eslint-loader/index.js","mtime":1543927896984}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.router = undefined;\n\nvar _vue = require('vue');\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _vueRouter = require('vue-router');\n\nvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\nvar _HomePage = require('../home/HomePage');\n\nvar _HomePage2 = _interopRequireDefault(_HomePage);\n\nvar _LoginPage = require('../login/LoginPage');\n\nvar _LoginPage2 = _interopRequireDefault(_LoginPage);\n\nvar _RegisterPage = require('../register/RegisterPage');\n\nvar _RegisterPage2 = _interopRequireDefault(_RegisterPage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_vue2.default.use(_vueRouter2.default);\n\nvar router = exports.router = new _vueRouter2.default({\n  mode: 'history',\n  routes: [{ path: '/', component: _HomePage2.default }, { path: '/login', component: _LoginPage2.default }, { path: '/register', component: _RegisterPage2.default },\n\n  // otherwise redirect to home\n  { path: '*', redirect: '/' }]\n});\n\nrouter.beforeEach(function (to, from, next) {\n  // redirect to login page if not logged in and trying to access a restricted page\n  var publicPages = ['/login', '/register'];\n  var authRequired = !publicPages.includes(to.path);\n  var loggedIn = localStorage.getItem('user');\n\n  if (authRequired && !loggedIn) {\n    return next('/login');\n  }\n\n  next();\n});",{"version":3,"sources":["src/_helpers/router.js"],"names":["Vue","use","Router","router","mode","routes","path","component","HomePage","LoginPage","RegisterPage","redirect","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","localStorage","getItem"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAEAA,cAAIC,GAAJ,CAAQC,mBAAR;;AAEO,IAAMC,0BAAS,IAAID,mBAAJ,CAAW;AAC/BE,QAAM,SADyB;AAE/BC,UAAQ,CACN,EAAEC,MAAM,GAAR,EAAaC,WAAWC,kBAAxB,EADM,EAEN,EAAEF,MAAM,QAAR,EAAkBC,WAAWE,mBAA7B,EAFM,EAGN,EAAEH,MAAM,WAAR,EAAqBC,WAAWG,sBAAhC,EAHM;;AAKN;AACA,IAAEJ,MAAM,GAAR,EAAaK,UAAU,GAAvB,EANM;AAFuB,CAAX,CAAf;;AAYPR,OAAOS,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC;AACA,MAAMC,cAAc,CAAC,QAAD,EAAW,WAAX,CAApB;AACA,MAAMC,eAAe,CAACD,YAAYE,QAAZ,CAAqBL,GAAGP,IAAxB,CAAtB;AACA,MAAMa,WAAWC,aAAaC,OAAb,CAAqB,MAArB,CAAjB;;AAEA,MAAIJ,gBAAgB,CAACE,QAArB,EAA+B;AAC7B,WAAOJ,KAAK,QAAL,CAAP;AACD;;AAEDA;AACD,CAXD","file":"router.js","sourceRoot":"/home/victor.godoy/projeto-front-end-default/controle-financeiro-frontend","sourcesContent":["import Vue from 'vue';\nimport Router from 'vue-router';\n\nimport HomePage from '../home/HomePage'\nimport LoginPage from '../login/LoginPage'\nimport RegisterPage from '../register/RegisterPage'\n\nVue.use(Router);\n\nexport const router = new Router({\n  mode: 'history',\n  routes: [\n    { path: '/', component: HomePage },\n    { path: '/login', component: LoginPage },\n    { path: '/register', component: RegisterPage },\n\n    // otherwise redirect to home\n    { path: '*', redirect: '/' }\n  ]\n});\n\nrouter.beforeEach((to, from, next) => {\n  // redirect to login page if not logged in and trying to access a restricted page\n  const publicPages = ['/login', '/register'];\n  const authRequired = !publicPages.includes(to.path);\n  const loggedIn = localStorage.getItem('user');\n\n  if (authRequired && !loggedIn) {\n    return next('/login');\n  }\n\n  next();\n})"]}]}